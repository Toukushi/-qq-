<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>QQéŸ³ä¹æ­Œå•è§£æ</title>
    <style>
        body {
            font-family: Arial;
            max-width: 800px;
            margin: 40px auto;
        }
        input {
            width: 500px;
            padding: 8px;
        }
        button {
            padding: 8px 15px;
        }
        .song {
            padding: 8px;
            border-bottom: 1px solid #ddd;
        }
    </style>
</head>
<body>

<h1>ğŸµ QQéŸ³ä¹æ­Œå•è§£æ</h1>

<input type="text" id="playlistUrl" placeholder="è¾“å…¥QQéŸ³ä¹æ­Œå•é“¾æ¥">
<button onclick="fetchList()">è§£æ</button>

<h2 id="title"></h2>
<div id="result"></div>

<script>
async function fetchList() {
    const url = document.getElementById('playlistUrl').value;
    const res = await fetch(`/api/playlist?url=${encodeURIComponent(url)}`);
    const data = await res.json();

    if (data.error) {
        alert(data.error);
        return;
    }

    document.getElementById('title').innerText =
        `${data.name}ï¼ˆå…± ${data.songCount} é¦–ï¼‰`;

    const resultDiv = document.getElementById('result');
    resultDiv.innerHTML = '';

    data.songs.forEach(song => {
        const div = document.createElement('div');
        div.className = 'song';
        div.innerText = `${song.singer} - ${song.name}`;
        resultDiv.appendChild(div);
    });
}
</script>

</body>
</html>
